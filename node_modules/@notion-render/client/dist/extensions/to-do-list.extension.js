"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const toDoListExtension = async (blocks) => {
    let start = false;
    let items = [];
    const next = [];
    const pushList = () => {
        next.push({
            type: 'to_do_list',
            to_do_list: items,
        });
        start = false;
        items = [];
    };
    for (const block of blocks) {
        if ('processed' in block && block.processed) {
            next.push(block);
            continue;
        }
        if (block.type === 'to_do') {
            if (!start)
                start = true;
            items.push({
                ...block,
                processed: true,
            });
        }
        else if (start) {
            pushList();
        }
        else {
            next.push(block);
        }
    }
    if (start)
        pushList();
    return next;
};
exports.default = toDoListExtension;
//# sourceMappingURL=to-do-list.extension.js.map